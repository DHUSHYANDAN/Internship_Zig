{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import baseUrl from\"../URL\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[url,setUrl]=useState(\"\");const[siteManager,setSiteManager]=useState(\"\");const[email,setEmail]=useState(\"\");const[certificates,setCertificates]=useState([]);const[isValid,setIsValid]=useState(true);const[loading,setLoading]=useState(false);useEffect(()=>{fetch(`${baseUrl}/certificates`).then(res=>res.json()).then(data=>setCertificates(data)).catch(err=>console.log(err));},[]);const validateUrl=value=>{const urlPattern=new RegExp(\"^(https?:\\\\/\\\\/)?\"+\"((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.?)+[a-z]{2,}|\"+\"((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))\"+\"(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*\"+\"(\\\\?[;&a-z\\\\d%_.~+=-]*)?\"+\"(\\\\#[-a-z\\\\d_]*)?$\",\"i\");return!!urlPattern.test(value);};const handleChange=e=>{setUrl(e.target.value);setIsValid(validateUrl(e.target.value));};const handleFetch=async()=>{if(!isValid)return alert(\"Enter a valid URL\");setLoading(true);try{const response=await fetch(`${baseUrl}/fetch-certificate`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({url,site_manager:siteManager,email})});const data=await response.json();if(!response.ok){throw new Error(data.error||\"Failed to fetch SSL data\");}setCertificates([...certificates,data]);}catch(error){alert(error.message);}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center min-h-screen bg-gray-100\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"Monitor SSL Certificate\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md bg-white p-6 rounded shadow-md\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:url,onChange:handleChange,className:`w-full p-2 border ${isValid?'border-gray-300':'border-red-500'} rounded mb-3`,placeholder:\"Enter website URL\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFetch,className:\"w-full p-2 bg-blue-500 text-white rounded hover:bg-blue-600\",disabled:loading,children:loading?\"Fetching...\":\"Fetch Certificate\"})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mt-6\",children:\"Stored Certificates\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-2xl mt-4 bg-white p-4 rounded shadow-md\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border-collapse border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-200\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"URL\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"Issuer\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"Valid From\"}),/*#__PURE__*/_jsx(\"th\",{className:\"border p-2\",children:\"Valid To\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:certificates.map((cert,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:cert.url}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:cert.issuer}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:cert.valid_from}),/*#__PURE__*/_jsx(\"td\",{className:\"border p-2\",children:cert.valid_to})]},index))})]})})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","baseUrl","jsx","_jsx","jsxs","_jsxs","Home","url","setUrl","siteManager","setSiteManager","email","setEmail","certificates","setCertificates","isValid","setIsValid","loading","setLoading","fetch","then","res","json","data","catch","err","console","log","validateUrl","value","urlPattern","RegExp","test","handleChange","e","target","handleFetch","alert","response","method","headers","body","JSON","stringify","site_manager","ok","Error","error","message","className","children","type","onChange","placeholder","onClick","disabled","map","cert","index","issuer","valid_from","valid_to"],"sources":["O:/dhushport/Internship_Zig/frontend/src/components/home.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport baseUrl from \"../URL\";\n\nconst Home = () => {\n    const [url, setUrl] = useState(\"\");\n    const [siteManager, setSiteManager] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [certificates, setCertificates] = useState([]);\n    const [isValid, setIsValid] = useState(true);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        fetch(`${baseUrl}/certificates`)\n            .then(res => res.json())\n            .then(data => setCertificates(data))\n            .catch(err => console.log(err));\n    }, []);\n\n    const validateUrl = (value) => {\n        const urlPattern = new RegExp(\"^(https?:\\\\/\\\\/)?\"+ \n            \"((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.?)+[a-z]{2,}|\"+\n            \"((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))\"+\n            \"(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*\"+\n            \"(\\\\?[;&a-z\\\\d%_.~+=-]*)?\"+\n            \"(\\\\#[-a-z\\\\d_]*)?$\",\"i\");\n        return !!urlPattern.test(value);\n    };\n\n    const handleChange = (e) => {\n        setUrl(e.target.value);\n        setIsValid(validateUrl(e.target.value));\n    };\n\n    const handleFetch = async () => {\n        if (!isValid) return alert(\"Enter a valid URL\");\n\n        setLoading(true);\n        try {\n            const response = await fetch(`${baseUrl}/fetch-certificate`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({ url, site_manager: siteManager, email })\n            });\n            const data = await response.json();\n            if (!response.ok) {\n                throw new Error(data.error || \"Failed to fetch SSL data\");\n            }\n            setCertificates([...certificates, data]);\n        } catch (error) {\n            alert(error.message);\n        }\n        setLoading(false);\n    };\n\n    return (\n        <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-100\">\n            <h1 className=\"text-3xl font-bold mb-6\">Monitor SSL Certificate</h1>\n\n            <div className=\"w-full max-w-md bg-white p-6 rounded shadow-md\">\n                <input\n                    type=\"text\"\n                    value={url}\n                    onChange={handleChange}\n                    className={`w-full p-2 border ${isValid ? 'border-gray-300' : 'border-red-500'} rounded mb-3`}\n                    placeholder=\"Enter website URL\"\n                />\n               \n                <button\n                    onClick={handleFetch}\n                    className=\"w-full p-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n                    disabled={loading}\n                >\n                    {loading ? \"Fetching...\" : \"Fetch Certificate\"}\n                </button>\n            </div>\n\n            <h2 className=\"text-2xl font-bold mt-6\">Stored Certificates</h2>\n            <div className=\"w-full max-w-2xl mt-4 bg-white p-4 rounded shadow-md\">\n                <table className=\"w-full border-collapse border border-gray-300\">\n                    <thead>\n                        <tr className=\"bg-gray-200\">\n                            <th className=\"border p-2\">URL</th>\n                            <th className=\"border p-2\">Issuer</th>\n                            <th className=\"border p-2\">Valid From</th>\n                            <th className=\"border p-2\">Valid To</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {certificates.map((cert, index) => (\n                            <tr key={index} className=\"text-center\">\n                                <td className=\"border p-2\">{cert.url}</td>\n                                <td className=\"border p-2\">{cert.issuer}</td>\n                                <td className=\"border p-2\">{cert.valid_from}</td>\n                                <td className=\"border p-2\">{cert.valid_to}</td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n};\n\nexport default Home;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,OAAO,KAAM,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7B,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACf,KAAM,CAACC,GAAG,CAAEC,MAAM,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAACU,WAAW,CAAEC,cAAc,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACc,YAAY,CAAEC,eAAe,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACkB,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAE7CC,SAAS,CAAC,IAAM,CACZmB,KAAK,CAAC,GAAGlB,OAAO,eAAe,CAAC,CAC3BmB,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,EAAIT,eAAe,CAACS,IAAI,CAAC,CAAC,CACnCC,KAAK,CAACC,GAAG,EAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC,CACvC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,WAAW,CAAIC,KAAK,EAAK,CAC3B,KAAM,CAAAC,UAAU,CAAG,GAAI,CAAAC,MAAM,CAAC,mBAAmB,CAC7C,mDAAmD,CACnD,6BAA6B,CAC7B,iCAAiC,CACjC,0BAA0B,CAC1B,oBAAoB,CAAC,GAAG,CAAC,CAC7B,MAAO,CAAC,CAACD,UAAU,CAACE,IAAI,CAACH,KAAK,CAAC,CACnC,CAAC,CAED,KAAM,CAAAI,YAAY,CAAIC,CAAC,EAAK,CACxB1B,MAAM,CAAC0B,CAAC,CAACC,MAAM,CAACN,KAAK,CAAC,CACtBb,UAAU,CAACY,WAAW,CAACM,CAAC,CAACC,MAAM,CAACN,KAAK,CAAC,CAAC,CAC3C,CAAC,CAED,KAAM,CAAAO,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CAACrB,OAAO,CAAE,MAAO,CAAAsB,KAAK,CAAC,mBAAmB,CAAC,CAE/CnB,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACA,KAAM,CAAAoB,QAAQ,CAAG,KAAM,CAAAnB,KAAK,CAAC,GAAGlB,OAAO,oBAAoB,CAAE,CACzDsC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEpC,GAAG,CAAEqC,YAAY,CAAEnC,WAAW,CAAEE,KAAM,CAAC,CAClE,CAAC,CAAC,CACF,KAAM,CAAAY,IAAI,CAAG,KAAM,CAAAe,QAAQ,CAAChB,IAAI,CAAC,CAAC,CAClC,GAAI,CAACgB,QAAQ,CAACO,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,CAACvB,IAAI,CAACwB,KAAK,EAAI,0BAA0B,CAAC,CAC7D,CACAjC,eAAe,CAAC,CAAC,GAAGD,YAAY,CAAEU,IAAI,CAAC,CAAC,CAC5C,CAAE,MAAOwB,KAAK,CAAE,CACZV,KAAK,CAACU,KAAK,CAACC,OAAO,CAAC,CACxB,CACA9B,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAED,mBACIb,KAAA,QAAK4C,SAAS,CAAC,oEAAoE,CAAAC,QAAA,eAC/E/C,IAAA,OAAI8C,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,yBAAuB,CAAI,CAAC,cAEpE7C,KAAA,QAAK4C,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAC3D/C,IAAA,UACIgD,IAAI,CAAC,MAAM,CACXtB,KAAK,CAAEtB,GAAI,CACX6C,QAAQ,CAAEnB,YAAa,CACvBgB,SAAS,CAAE,qBAAqBlC,OAAO,CAAG,iBAAiB,CAAG,gBAAgB,eAAgB,CAC9FsC,WAAW,CAAC,mBAAmB,CAClC,CAAC,cAEFlD,IAAA,WACImD,OAAO,CAAElB,WAAY,CACrBa,SAAS,CAAC,6DAA6D,CACvEM,QAAQ,CAAEtC,OAAQ,CAAAiC,QAAA,CAEjBjC,OAAO,CAAG,aAAa,CAAG,mBAAmB,CAC1C,CAAC,EACR,CAAC,cAENd,IAAA,OAAI8C,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cAChE/C,IAAA,QAAK8C,SAAS,CAAC,sDAAsD,CAAAC,QAAA,cACjE7C,KAAA,UAAO4C,SAAS,CAAC,+CAA+C,CAAAC,QAAA,eAC5D/C,IAAA,UAAA+C,QAAA,cACI7C,KAAA,OAAI4C,SAAS,CAAC,aAAa,CAAAC,QAAA,eACvB/C,IAAA,OAAI8C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,KAAG,CAAI,CAAC,cACnC/C,IAAA,OAAI8C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAAM,CAAI,CAAC,cACtC/C,IAAA,OAAI8C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,cAC1C/C,IAAA,OAAI8C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,EACxC,CAAC,CACF,CAAC,cACR/C,IAAA,UAAA+C,QAAA,CACKrC,YAAY,CAAC2C,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBAC1BrD,KAAA,OAAgB4C,SAAS,CAAC,aAAa,CAAAC,QAAA,eACnC/C,IAAA,OAAI8C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEO,IAAI,CAAClD,GAAG,CAAK,CAAC,cAC1CJ,IAAA,OAAI8C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEO,IAAI,CAACE,MAAM,CAAK,CAAC,cAC7CxD,IAAA,OAAI8C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEO,IAAI,CAACG,UAAU,CAAK,CAAC,cACjDzD,IAAA,OAAI8C,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEO,IAAI,CAACI,QAAQ,CAAK,CAAC,GAJ1CH,KAKL,CACP,CAAC,CACC,CAAC,EACL,CAAC,CACP,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAApD,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}